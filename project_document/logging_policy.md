# 日志策略与变更记录

- 文档创建时间：2025-06-02 10:54:01 +08:00
- 责任人：DW（文档负责人）
- 适用项目：tgsigner-20250601-2206

---
## 1. 日志本地持久化方案
- 日志采用Python logging模块，主Handler为RotatingFileHandler。
- 日志文件路径：logs/main.log（自动创建logs目录）。
- 单文件最大10MB，最多保留7个历史文件，超出自动轮转。
- 日志级别：INFO及以上。
- 控制台与文件双输出，便于开发与生产调试。
- 日志内容不含API_ID、API_HASH等敏感信息。

## 2. 配置说明
- 日志目录与文件自动创建，无需手动干预。
- 轮转策略可通过修改main.py中RotatingFileHandler参数调整。
- 后续可扩展多Handler或灵活配置（如DEBUG级别、分账户日志等）。

## 3. 安全注意事项
- 严禁将敏感信息（如API_ID、API_HASH、session路径等）写入日志。
- logs/目录建议设置合理权限，防止未授权访问。

## 4. 变更历史（Newest First）
---
### [2025-06-02 10:54:01 +08:00] 日志本地持久化功能上线
- 方案采用RotatingFileHandler，日志文件logs/main.log，单文件最大10MB，最多7个历史文件。
- 自动创建logs目录，控制台与文件双输出。
- 变更原因：提升可维护性与问题追踪能力，防止日志丢失或单文件过大。
- 责任人：LD、DW
--- 